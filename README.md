# yuyue-book
愉阅项目说明
项目介绍
愉阅是一款图书阅读类应用，基于 SpringCloudAlibaba 生态开发的微服务实践项目，涉及 SpringCloud-Gateway、Nacos、Dubbo、Jwt、RocketMq、Seata等技术栈的应用，前端使用Vue+ElementPlus实现。后续如果大家有时间可以使用uni-app开发多端APP应用（切记一定先用Vue+ElementPlus实现H5应用，否则很可能完成不了项目）
项目的侧重点主要是基于实际业务场景使用微服务架构落地的思路，通过本案例的实施以达到各位同学掌握并熟练应用SpringCloudAlibaba各知识点的目的。
功能说明
微服务拆分策略：
•	业务先行，需求理清楚，划分业务边界和理顺依赖
•	确定独立的模块后再确定分布式服务
•	模块之间的依赖关系要清晰、参数简单、耦合要少
•	最重要的是需求的理解与确定，切勿根据技术来套业务需求
结合网络上各小说网站功能，现将本案例需要实现的核心功能罗列如下（很多功能已省略）：
1.	作者管理功能
1.1.	作者注册（需要管理员审批方可成为作者）
1.2.	重置密码
1.3.	个人作品管理
1.3.1.	新增作品（详见5.4，5.5）
1.4.	拥有会员管理功能中的所有会员功能
2.	会员管理功能
2.1.	用户注册
2.2.	重置密码
2.3.	书架管理（分布式事务的应用，需要整体成功或失败）
2.3.1.	订阅图书
2.3.1.1.	订阅图书时同时更新该图书的整体订阅量
2.3.2.	取消订阅
2.3.2.1.	取消订阅时同时更新该图书的整体订阅量（分布式事务的应用，需要整体成功或失败）
2.4.	评论管理（分布式事务的应用，需要整体成功或失败）
2.4.1.	发表评论
2.4.1.1.	只针对图书发表评论，图书章节不用评论
2.4.1.2.	每评论一次，该图书评论数量加1
2.4.1.3.	用户评论表新增一条新评论
2.4.1.3.1.	该功能对应的表就是存储每个用户所有评论，即当用户查询自身评论时可找到其所针对图书所发表的相关评论
2.4.2.	删除评论
2.4.2.1.	每删除评论一次，该图书评论数量减1
2.4.2.2.	用户评论同时删除该评论
2.5.	登录日志查询（记录每次登录时间、登出时间、登录IP、浏览器类型、客户端类型【PC端、安卓端、IOS端】）
2.6.	查看积分情况
2.6.1.	积分来源详情（管理员赠送、阅读赚取）
2.6.2.	积分使用情况（订阅图书时会减少积分）
3.	积分管理
3.1.1.	用户注册成功送10积分，作者注册后送100积分
3.1.2.	用户每阅读一本图书，扣相应设置好的积分，阅读同一本书时不扣积分，积分不够时不能阅读读书
3.1.3.	用户每阅读2分钟，积分增加1分
3.1.4.	管理员可以直接送指定积分给用户
4.	管理员管理账户功能
4.1.	查阅用户列表
4.2.	查阅用户详细信息（用户账号、用户名、积分、收藏图书信息、阅读图书信息、注册信息、登录次数信息）
4.3.	禁用、启用用户
4.4.	查阅作者列表
4.5.	查阅作者相关信息（如作者账号、作者名名、积分、收藏图书信息、阅读图书信息、注册信息、登录次数信息、作品数量信息、作品列表信息【作品标题名、章节数、是否完结、最后更新时间】）
4.6.	禁用、启用作者
5.	图书相关功能
5.1.	阅读图书功能
5.1.1.	查看图书标题、概要、作者信息、图书阅读量、章节数量、评价数量、点赞数量
5.1.1.1.	图书阅读量为该图书所以章节阅读量之合
5.1.1.2.	本功能匿名用户也可操作，无需积分
5.1.2.	图书详细内容（在确定订阅该图书后扣除用户或其它作者相应积分，后续重复阅读不需要扣积分，管理员查看无需积分）
5.2.	图书搜索功能
5.2.1.	精品【阅读量前10】
5.2.2.	排行【女生最爱与男生最爱的前10本图书】
5.2.3.	分类【如军事、科幻、言情、穿越等】
5.2.4.	搜索【按标题、主角名、配角名、主角与配角名混合】
5.3.	图书类型管理（限管理员）
5.3.1.	分类管理如：军事、科幻、言情、穿越、霸道总裁、灰姑娘系列等
5.3.2.	标签管理如：女生最爱、男生最爱、超级爽文等【每个图书可以除属于单一的某个分类外，还可以拥有这些多个标签】
5.4.	图书信息管理
5.4.1.	新增图书基本信息
5.4.2.	修改图书基本信息
5.4.3.	启用、禁用图书
5.5.	图书章节管理（每本图书可有多个章节）
5.5.1.	查看图书章节列表信息【列表显示章节前20个字、章节创建时间、章节最后修改时间、章节定稿时间、章节点击量】
5.5.2.	新增图书章节
5.5.3.	修改图书章节内容
5.5.4.	删除图书章节（章节发布后不允许删除）
5.5.5.	
6.	消息功能
6.1.	用户订阅图书后，该图书如果有更新，将由系统发送图书更新消息给用户（广播消息），用户可在自身会员中心中的系统消息中进行查阅
6.1.1.	作者在更新图书章节后，将由系统发送更新至消息服务器，需要实现用户在线时就可及时感知新消息已抵达，需要查阅
6.2.	因有时在线用户比较多，因此在实现用户查看图书每2分钟将会增加1积分的功能时，使用消息事务机制来实现积分的更改
6.3.	作者注册被管理员审批成功后，由系统使用消息机制发送审批成功的消息给用户，并且管理员需要知道该消息是否正确地被消费（即作者是否已阅读该消息），因此在此可使用集群消息机制来实现
验收说明
1.	功能实现计120分，以下为扣分项，总分75分为及格
1.1.	数据库设计文档 10分，使用PD设计
1.2.	模块划分与开发进度文档 10分，使用表格即可
1.3.	每少一个功能扣5分
1.4.	如只有后端代码，无VUE代码，扣5分
1.5.	没有使用分布式事务，扣15分
1.6.	没有使用消息机制，扣20分
1.7.	运行报错，每个错误扣5分
2.	验收时间
2.1.	开学后一周内
3.	本次项目由个人独立开发，非团队项目


